<!doctype html><html lang=zh><head><meta content=Zola name=generator><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><link crossorigin href=https://registry.npmmirror.com/ rel=preconnect><link href=https://registry.npmmirror.com/ rel=dns-prefetch><title>搜索</title><meta content=在图吧工具中搜索内容 name=description><meta content="图吧工具箱, 图拉丁吧, 硬件检测工具, 开源软件, 免费软件, 绿色软件, 纯净软件, DIY爱好者" name=keywords><meta content=Asuna name=author><meta content="index, follow" name=robots><meta content=搜索 property=og:title><meta content=在图吧工具中搜索内容 property=og:description><meta content=/favicon.ico property=og:image><meta content=https://tb.saop.cc/ property=og:url><meta content=website property=og:type><meta content=图吧工具 property=og:site_name><meta content=zh property=og:locale><link href=https://tb.saop.cc/rss.xml rel=alternate title=图吧工具 type=application/rss+xml><link fetchpriority=high href=https://tb.saop.cc/site.css rel=stylesheet><link fetchpriority=high href=https://registry.npmmirror.com/@fortawesome/fontawesome-free/latest/files/css/all.min.css rel=stylesheet><script importance=high src=https://registry.npmmirror.com/quicklink/latest/files/dist/quicklink.umd.js></script><script async importance=high src=https://registry.npmmirror.com/pace-js/latest/files/pace.min.js></script><link href=https://registry.npmmirror.com/pace-js/latest/files/themes/blue/pace-theme-flash.css importance=high rel=stylesheet><link fetchpriority=high href=https://registry.npmmirror.com/animate.css/latest/files/animate.min.css rel=stylesheet><link fetchpriority=low href=https://registry.npmmirror.com/artalk/latest/files/dist/Artalk.css rel=stylesheet><link fetchpriority=low href=https://registry.npmmirror.com/lightgallery/latest/files/css/lightgallery.css rel=stylesheet><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><body><header><a class="header__logo white" href=/><img alt=logo loading=lazy src=/favicon.ico></a><nav><ul><li><a href=/guide/><i class="fas fa-compass"></i> 指南</a><li><a href=/faq/><i class="fas fa-question-circle"></i> 问答</a><li><a href=/kb/><i class="fas fa-toolbox"></i> 卡硬</a><li><a href=/search/ target=_blank><i class="fas fa-search"></i> 搜索</a></ul></nav></header><main class="content animate__animated animate__fadeIn"><turbo-frame> <div class=hero><h1 class=title>搜索</h1><p class=hero__tagline>在 图吧工具 中查找您需要的内容<div class="search__content container"><input disabled id=search placeholder=输入搜索关键词...><ul id=results></ul><div class=status id=status>加载搜索功能...</div></div></div> <script src=https://unpkg.com/tiny-segmenter/dist/tiny-segmenter-0.2.0.js></script> <script type=module>import { search, default as init } from "/wasm/tinysearch_engine.js";
  window.search = search;

  async function initSearch() {
    try {
      const response = await fetch("/search_index_processed.json");
      if (!response.ok) {
        throw new Error(`无法加载搜索索引: ${response.status}`);
      }
      const jsonData = await response.json();
      if (
        !Array.isArray(jsonData) ||
        !jsonData.every((item) => item.title && item.url)
      ) {
        throw new Error("搜索索引格式错误: 缺少 title 或 url 字段");
      }
      console.log("搜索索引加载成功:", jsonData.length, "条目");
      await init({ path: "/wasm/tinysearch_engine.wasm" });
      console.log("Tinysearch 初始化成功");
      document.getElementById("status").textContent =
        "搜索功能已就绪！请输入关键词进行搜索。";
      document.getElementById("search").disabled = false;
      document.getElementById("search").focus();
    } catch (error) {
      console.error("初始化 Tinysearch 失败:", error);
      const searchInput = document.getElementById("search");
      const resultsList = document.getElementById("results");
      const statusDiv = document.getElementById("status");
      if (searchInput && resultsList && statusDiv) {
        searchInput.disabled = true;
        resultsList.innerHTML = "<li>搜索功能加载失败，请稍后重试</li>";
        statusDiv.innerHTML = `<div class="error">加载失败: ${error.message}</div>`;
      }
    }
  }
  initSearch();</script> <script>document.addEventListener("DOMContentLoaded", () => {
    const segmenter = new TinySegmenter();
    const searchInput = document.getElementById("search");
    const resultsList = document.getElementById("results");
    const statusDiv = document.getElementById("status");

    if (!searchInput || !resultsList || !statusDiv) {
      console.error("未找到搜索输入框、结果列表或状态栏");
      statusDiv.innerHTML = "<div class='error'>页面元素加载失败</div>";
      return;
    }

    function doSearch() {
      const value = searchInput.value.trim();
      resultsList.innerHTML = "";
      if (!value) {
        statusDiv.textContent = "请输入搜索关键词";
        return;
      }

      const startTime = performance.now();
      const query = segmenter.segment(value).join(" ");
      console.log("搜索关键词:", query);
      try {
        const results = window.search(query, 10);
        const endTime = performance.now();
        const searchTime = (endTime - startTime).toFixed(3);

        if (!Array.isArray(results)) {
          throw new Error("搜索结果格式错误");
        }

        if (results.length === 0) {
          resultsList.innerHTML = "<li>未找到匹配结果</li>";
          statusDiv.textContent = `未找到 "${query}" 的结果 (${searchTime}ms)`;
          return;
        }

        results.forEach(([title, url]) => {
          const li = document.createElement("li");
          const link = document.createElement("a");
          link.textContent = title;
          link.href = url;
          link.target = "_blank";
          link.className = "result-title";
          li.appendChild(link);
          resultsList.appendChild(li);
        });
        resultsList.classList.add("animate__animated", "animate__fadeIn");
        statusDiv.textContent = `找到 ${results.length} 个结果，关键词 "${query}" (${searchTime}ms)`;
      } catch (error) {
        console.error("搜索错误:", error);
        resultsList.innerHTML = "<li>搜索出错，请稍后重试</li>";
        statusDiv.innerHTML = `<div class="error">搜索失败: ${error.message}</div>`;
      }
    }

    let debounceTimer;
    searchInput.addEventListener("input", () => {
      clearTimeout(debounceTimer);
      debounceTimer = setTimeout(doSearch, 300);
    });

    searchInput.addEventListener("keypress", (event) => {
      if (event.key === "Enter") {
        clearTimeout(debounceTimer);
        doSearch();
      }
    });
  });</script> <style>.container{background:#fff;border-radius:8px;padding:30px;box-shadow:0 2px 10px #0000001a}.search__content{margin:20px 0}input[type=text]{border:2px solid #e1e8ed;border-radius:4px;width:300px;padding:10px;font-size:16px}.results{margin-top:20px}.result-title{color:#3498db;font-size:16px;text-decoration:none}.result-title:hover{text-decoration:underline}.no-results{color:#7f8c8d;font-style:italic}.status{color:#7f8c8d;margin-top:10px;font-size:14px}.error{color:#e74c3c;background:#fdf2f2;border-radius:4px;margin-top:10px;padding:10px}</style> </turbo-frame><turbo-frame> <div id=Comments></div> </turbo-frame></main><footer><turbo-frame> <p>访问：<span id=busuanzi_value_site_pv>null</span>，访客：<span id=busuanzi_value_site_uv>null</span></p> </turbo-frame><p class=links><a href=https://www.bilibili.com/video/BV1BG4y137mG target=_blank><i class="fas fa-screwdriver"></i> 装机教程</a>  <a href=https://www.bilibili.com/video/BV1DJ411D79y target=_blank><i class="fas fa-icons"></i> 系统安装</a> <a href=/cpu-ranking/><i class="fas fa-microchip"></i> CPU 天梯</a>  <a href=/gpu-ranking/><i class="fas fa-fan"></i> 显卡天梯</a>  <a href=/links/><i class="fas fa-link"></i> 友站</a>  <a href=/sdk/><i class="fas fa-bolt"></i> 引擎</a>  <a href=/update/><i class="fas fa-pen"></i> 更新日志</a>  <a href=/feed/><i class="fas fa-rss"></i> 订阅</a>  <a href=/sitemap.xml><i class="fas fa-sitemap"></i> 站点地图</a>  <a href=/os/><i class="fas fa-code"></i> 开源</a>  <a href=/donate/><i class="fas fa-hand-holding-dollar"></i> 捐赠</a>  <a href=/url/><i class="fas fa-anchor-lock"></i> 永久网址</a>  <a href=/bbs/><i class="fas fa-user-group"></i> 社群</a>  <a href=/about/><i class="fas fa-info-circle"></i> 关于</a>  <a href=https://github.com/AdingApkgg/tb target=_blank><i class="fab fa-github"></i> GitHub</a><p class=copyright><b><a href=https://saop.cc target=_blank><i class="fas fa-copyright"></i> Asuna</a></b></footer><script src=https://registry.npmmirror.com/instant.page/latest/files/instantpage.js type=module></script><script src=https://registry.npmmirror.com/@hotwired/turbo/latest/files/dist/turbo.es2017-esm.js type=module></script><script async fetchpriority=low src=https://registry.npmmirror.com/js-asuna/latest/files/js/bsz.pure.mini.js></script><script fetchpriority=low src=https://registry.npmmirror.com/lightgallery/latest/files/lightgallery.min.js></script><script fetchpriority=low src=https://registry.npmmirror.com/artalk/latest/files/dist/Artalk.js></script><script fetchpriority=low src=https://registry.npmmirror.com/@artalk/plugin-lightbox/latest/files/dist/artalk-plugin-lightbox.js></script><script>quicklink.listen({ priority: true });
      Artalk.init({
        el: "#Comments",
        pageKey: "https://tb.saop.cc",
        server: "https://artalk.saop.cc",
        site: "图吧工具",
        darkMode: true,
      });</script>